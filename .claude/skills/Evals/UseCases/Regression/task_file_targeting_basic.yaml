# Task: File Targeting - Basic
# Agent should edit the correct file when asked

id: task_file_targeting_basic
description: "Agent correctly identifies and edits the specified file"
type: regression
domain: coding
source: failure_log

graders:
  - type: tool_calls
    weight: 0.40
    required: true
    params:
      required:
        - tool: read_file
        - tool: edit_file
      sequence:
        - read_file
        - edit_file

  - type: llm_rubric
    weight: 0.30
    params:
      rubric: |
        Evaluate if the agent:
        1. Read the CORRECT file (the one specified in the task)
        2. Edited the CORRECT file (same as the one read)
        3. Did NOT edit unrelated files

        Score 5 if all criteria met
        Score 3 if correct file edited but also touched others
        Score 1 if wrong file edited
      reasoning_first: true
      scale: "1-5"

  - type: natural_language_assert
    weight: 0.30
    params:
      assertions:
        - "The agent read the file before editing it"
        - "The edit was made to the file specified in the request"
        - "No unrelated files were modified"

trials: 1
pass_threshold: 0.75

tags:
  - file_targeting
  - basic
  - regression

created_at: "2026-01-10"
