//
// build.gradle
// .dotfiles
//

// -----------------------------------------------------------------------------
// ZSH -> Fish Shell Migration Tasks

FileTree zshFiles = fileTree(projectDir) {
    include '**/*.zsh'
    //exclude '**/*.old'
}

task listFiles {
    description "Lists files which will be migrated from ZSH to Fish Shell."
    group ".dotfiles"

//    inputs.files zshFiles

    zshFiles.each { File file ->
        println file
    }
}

task convertAliasToFunction {
    description "Converts a bash/zsh alias into a fish function."
    group ".dotfiles"

    dependsOn listFiles
//    inputs.files zshFiles

    zshFiles.each { File file ->
        println file
        file.eachLine { line ->
            println line
        }
    }
}

task portFunction {
    description "Ports a bash/zsh function to fish."
    group ".dotfiles"

    dependsOn listFiles
    inputs.files zshFiles
}

// -----------------------------------------------------------------------------
// Gradle Wrapper

wrapper {
    gradleVersion = '3.5'
    distributionType = 'ALL'
}
